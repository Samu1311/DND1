@page "/health-overview"
@inject IJSRuntime JSRuntime

<div class="health-overview-page">
    <!-- Page Header -->
    <header class="page-header">
        <h1>Health Overview</h1>
        <p>Track and monitor your essential health data</p>
    </header>

    <!-- Health Metrics Section -->
    <section class="health-metrics">
        <div class="metric-card heart-rate">
            <h3>Heart Rate</h3>
            <p class="metric-value">72 bpm</p>
            <p class="metric-desc">Normal</p>
        </div>
        <div class="metric-card blood-pressure">
            <h3>Blood Pressure</h3>
            <p class="metric-value">120/80</p>
            <p class="metric-desc">Normal</p>
        </div>
        <div class="metric-card weight">
            <h3>Weight</h3>
            <p class="metric-value">70 kg</p>
            <p class="metric-desc">Healthy</p>
        </div>
        <div class="metric-card blood-type">
            <h3>Blood Type</h3>
            <p class="metric-value">O+</p>
            <p class="metric-desc">Universal Donor</p>
        </div>
    </section>

    <!-- Dropdown and Button -->
        <div class="graph-controls">
            <label for="graphSelector">Select a Graph:</label>
            <select id="graphSelector" class="form-control">
                <option value="heartRate">Heart Rate Trend</option>
                <option value="weight">Weight Progress</option>
            </select>
            <button class="btn btn-primary" @onclick="RenderSelectedGraph">Render Graph</button>
        </div>

        <!-- Canvas for Graphs -->
        <div class="graph-card">
            <h3 id="graphTitle">Graph Title</h3>
            <canvas id="mainGraph"></canvas>
        </div>
    </div>

@code {
    private async Task RenderSelectedGraph()
    {
        // Get the selected graph type from the dropdown
        var graphType = await JSRuntime.InvokeAsync<string>("getSelectedGraphType", "graphSelector");

        // Call the corresponding JavaScript function based on the selected type
        await JSRuntime.InvokeVoidAsync("renderSelectedGraph", "mainGraph", graphType);
    }
}
